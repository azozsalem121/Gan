## الخطوة 4: توليد البيانات الاصطناعية وموازنة مجموعة البيانات (Vanilla GAN)

في هذه الخطوة، قمنا بتوليد بيانات اصطناعية لفئة الأقلية ('Enrolled') باستخدام نموذج المولد Vanilla GAN المدرب مسبقًا، ثم قمنا بدمجها مع البيانات الأصلية لإنشاء مجموعة بيانات متوازنة.

### الخطوات:

1.  **تحميل المكونات:**
    *   تم تحميل مجموعة البيانات الأصلية من `/Users/macbookair/Desktop/sp_project/data.csv`.
    *   تم تحميل نموذج المولد Vanilla GAN المدرب من `/Users/macbookair/Desktop/sp_project/gan_project_files/vanilla_gan/vanilla_gan_generator.keras`.
    *   تم تحميل أدوات التحويل (Scaler و Encoder) والأعمدة المعالجة مسبقًا من `/Users/macbookair/Desktop/sp_project/gan_project_files`.

2.  **تحديد عدد العينات المطلوبة:**
    *   تم حساب توزيع الفئات في البيانات الأصلية:
```
Target
Graduate    2209
Dropout     1421
Enrolled     794
```
    *   تم تحديد الفئة الأكثر عددًا (Majority Count): 2209.
    *   تم تحديد عدد عينات الفئة الأقلية ('Enrolled'): 794.
    *   تم حساب عدد العينات الاصطناعية المطلوبة لتحقيق التوازن: 1415 (ليصبح عدد عينات 'Enrolled' مساويًا لـ 2209).

3.  **توليد البيانات الاصطناعية:**
    *   تم إنشاء 1415 متجه ضوضاء عشوائي بالبعد 128.
    *   تم تمرير متجهات الضوضاء إلى المولد لتوليد 1415 عينة بيانات اصطناعية في الفضاء المعالج مسبقًا.

4.  **التحويل العكسي للبيانات الاصطناعية:**
    *   تم فصل الميزات الرقمية والميزات الفئوية المشفرة (one-hot encoded) في البيانات الاصطناعية المولدة باستخدام أسماء الأعمدة الأصلية المحفوظة في أدوات التحويل (`scaler.feature_names_in_` و `encoder.get_feature_names_out(...)`).
    *   تم تطبيق التحويل العكسي لـ `MinMaxScaler` **فقط** على الميزات الرقمية المقابلة لإعادتها إلى نطاقها الأصلي.
    *   تم تطبيق التحويل العكسي لـ `OneHotEncoder` على الميزات الفئوية المشفرة (بعد تقريب الاحتمالات الناتجة عن GAN إلى 0 أو 1). **ملاحظة:** قد لا تكون هذه العملية دقيقة تمامًا وقد تنتج مجموعات فئات غير صالحة أحيانًا بسبب طبيعة مخرجات GAN. تم إضافة معالجة للأخطاء المحتملة في هذه الخطوة.
    *   تم دمج الميزات الرقمية والفئوية الأصلية وتعيين الفئة المستهدفة لها كـ 'Enrolled'.

5.  **إنشاء وحفظ مجموعة البيانات المتوازنة:**
    *   تم دمج البيانات الأصلية مع العينات الاصطناعية المولدة للفئة الأقلية.
    *   تم حفظ مجموعة البيانات المتوازنة الناتجة في `balanced_data_vanilla_gan.csv`.
    *   توزيع الفئات في مجموعة البيانات المتوازنة:
```
Target
Graduate    2209
Enrolled    2209
Dropout     1421
```

الآن لدينا مجموعة بيانات متوازنة جاهزة للاستخدام في تدريب وتقييم نماذج التصنيف في الخطوات التالية.
